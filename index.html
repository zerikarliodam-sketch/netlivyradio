<!DOCTYPE html>
<html lang="uz">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#09090b">
    <title>Netlivy Radio | Ultimate</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;700;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg: #09090b;
            --surface: #18181b;
            --primary: #22c55e; /* Spotify Green */
            --accent: #8b5cf6; /* Violet */
            --text: #ffffff;
            --text-muted: #a1a1aa;
            --border: rgba(255,255,255,0.08);
            --glass: rgba(24, 24, 27, 0.85);
            --shadow: 0 20px 40px -10px rgba(0,0,0,0.5);
            --font: 'Outfit', sans-serif;
        }

        [data-theme="light"] {
            --bg: #f4f4f5; --surface: #ffffff; --text: #18181b; --text-muted: #71717a; 
            --glass: rgba(255, 255, 255, 0.85); --border: rgba(0,0,0,0.08);
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; outline: none; }
        body { margin: 0; background: var(--bg); color: var(--text); font-family: var(--font); overflow-x: hidden; transition: background 0.3s; user-select: none; }

        /* PARTICLES BACKGROUND */
        #particles { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; pointer-events: none; }

        /* HEADER & NAV */
        header {
            padding: 15px 20px; display: flex; justify-content: space-between; align-items: center;
            position: sticky; top: 0; z-index: 50; background: var(--glass); backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--border);
        }
        .logo { font-weight: 900; font-size: 22px; letter-spacing: -0.5px; display: flex; align-items: center; gap: 8px; }
        .logo i { color: var(--primary); }
        .header-actions { display: flex; gap: 15px; }
        .icon-btn { font-size: 18px; color: var(--text); cursor: pointer; transition: 0.2s; position: relative; }
        .icon-btn:hover { color: var(--primary); transform: scale(1.1); }
        .battery-stat { font-size: 12px; font-weight: 600; color: var(--primary); display: flex; align-items: center; gap: 4px; }

        /* GREETING */
        .greeting-area { padding: 20px 20px 10px; }
        .greeting-title { font-size: 24px; font-weight: 800; margin: 0; background: linear-gradient(to right, var(--primary), var(--accent)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .live-stat { font-size: 12px; color: var(--text-muted); display: flex; align-items: center; gap: 5px; margin-top: 5px; }
        .red-dot { width: 6px; height: 6px; background: #ef4444; border-radius: 50%; animation: pulse 1s infinite; }

        /* SEARCH & CATEGORIES */
        .search-container { padding: 10px 20px; display: flex; gap: 10px; }
        .search-input { 
            flex: 1; background: var(--surface); border: 1px solid var(--border); 
            padding: 12px 15px; border-radius: 12px; color: var(--text); font-family: var(--font);
        }
        .voice-btn { width: 45px; background: var(--surface); border: 1px solid var(--border); border-radius: 12px; color: var(--text); cursor: pointer; }
        
        .cats { display: flex; gap: 8px; overflow-x: auto; padding: 10px 20px; scrollbar-width: none; }
        .cat-chip { padding: 8px 16px; background: var(--surface); border-radius: 20px; font-size: 13px; font-weight: 500; white-space: nowrap; border: 1px solid var(--border); cursor: pointer; transition: 0.2s; }
        .cat-chip.active { background: var(--primary); color: #000; border-color: var(--primary); }

        /* RADIO GRID */
        .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; padding: 10px 20px 140px; }
        .card { 
            background: var(--surface); border-radius: 20px; padding: 12px; 
            border: 1px solid var(--border); transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            position: relative; overflow: hidden; transform-style: preserve-3d;
        }
        .card:hover { transform: translateY(-5px) scale(1.02); box-shadow: 0 10px 30px -10px var(--primary); border-color: var(--primary); }
        .card img { width: 100%; aspect-ratio: 1; border-radius: 14px; object-fit: cover; margin-bottom: 10px; }
        .card h3 { margin: 0; font-size: 15px; font-weight: 700; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
        .card p { margin: 2px 0 0; font-size: 12px; color: var(--text-muted); }
        .card-menu { position: absolute; top: 15px; right: 15px; width: 30px; height: 30px; background: rgba(0,0,0,0.6); border-radius: 50%; display: flex; align-items: center; justify-content: center; backdrop-filter: blur(5px); opacity: 0; transition: 0.2s; }
        .card:hover .card-menu { opacity: 1; }

        /* PLAYER BAR (EXPANDABLE) */
        .player {
            position: fixed; bottom: 20px; left: 15px; right: 15px;
            background: rgba(20, 20, 20, 0.9); backdrop-filter: blur(25px);
            border: 1px solid rgba(255,255,255,0.1); border-radius: 24px;
            padding: 10px; display: flex; flex-direction: column; gap: 10px;
            z-index: 100; transition: 0.4s cubic-bezier(0.2, 0.8, 0.2, 1);
            box-shadow: 0 20px 50px rgba(0,0,0,0.8);
        }
        .player.expanded { bottom: 0; left: 0; right: 0; height: 100%; border-radius: 0; padding: 40px 20px; background: #000; justify-content: center; }
        
        .p-top { display: flex; align-items: center; gap: 12px; width: 100%; }
        .p-img { width: 48px; height: 48px; border-radius: 10px; object-fit: cover; }
        .player.expanded .p-img { width: 280px; height: 280px; border-radius: 20px; margin: 0 auto 30px; box-shadow: 0 20px 50px rgba(29, 185, 84, 0.3); }
        
        .p-info { flex: 1; overflow: hidden; }
        .p-title { font-weight: 700; font-size: 15px; white-space: nowrap; }
        .p-desc { font-size: 12px; color: var(--text-muted); }
        .player.expanded .p-info { text-align: center; margin-bottom: 20px; }
        .player.expanded .p-title { font-size: 24px; margin-bottom: 5px; }

        .p-controls { display: flex; align-items: center; gap: 15px; margin-left: auto; }
        .player.expanded .p-controls { justify-content: center; gap: 40px; margin: 0 auto; width: 100%; }
        .ctrl-btn { font-size: 22px; cursor: pointer; color: var(--text); }
        .play-main { font-size: 40px; color: var(--primary); }
        .player.expanded .play-main { font-size: 70px; }

        /* EXTRA CONTROLS IN EXPANDED */
        .extra-controls { display: none; width: 100%; justify-content: space-between; padding: 0 20px; margin-top: 30px; }
        .player.expanded .extra-controls { display: flex; }
        .vol-slider { width: 100%; -webkit-appearance: none; height: 4px; background: #333; border-radius: 2px; margin-top: 20px; display: none; }
        .player.expanded .vol-slider { display: block; }
        .vol-slider::-webkit-slider-thumb { -webkit-appearance: none; width: 16px; height: 16px; background: #fff; border-radius: 50%; }

        /* SETTINGS MODAL */
        .modal {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.8); backdrop-filter: blur(10px); z-index: 200;
            display: none; align-items: center; justify-content: center;
        }
        .modal.active { display: flex; animation: fadeIn 0.3s; }
        .modal-content {
            background: var(--surface); width: 90%; max-width: 400px; padding: 25px;
            border-radius: 24px; border: 1px solid var(--border);
        }
        .setting-row { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
        .toggle-switch { width: 40px; height: 22px; background: #333; border-radius: 20px; position: relative; cursor: pointer; }
        .toggle-switch::after { content:''; position: absolute; left: 2px; top: 2px; width: 18px; height: 18px; background: #fff; border-radius: 50%; transition: 0.3s; }
        .toggle-switch.on { background: var(--primary); }
        .toggle-switch.on::after { left: 20px; }

        /* CUSTOM CONTEXT MENU */
        #ctx-menu {
            position: fixed; background: var(--surface); border: 1px solid var(--border);
            border-radius: 12px; padding: 5px; z-index: 300; display: none; width: 180px;
        }
        .ctx-item { padding: 10px 15px; font-size: 14px; cursor: pointer; display: flex; align-items: center; gap: 10px; border-radius: 8px; }
        .ctx-item:hover { background: rgba(255,255,255,0.1); }

        /* ANIMATIONS */
        @keyframes pulse { 0% { opacity: 1; } 50% { opacity: 0.5; } 100% { opacity: 1; } }
        @keyframes floatHeart { 0% { transform: translateY(0) scale(1); opacity: 1; } 100% { transform: translateY(-100px) scale(0); opacity: 0; } }
        .floating-heart { position: fixed; font-size: 24px; color: var(--primary); pointer-events: none; z-index: 500; animation: floatHeart 1s forwards; }
        
        #toast-box { position: fixed; top: 20px; left: 50%; transform: translateX(-50%); z-index: 400; display: flex; flex-direction: column; gap: 10px; }
        .toast { background: var(--surface); border: 1px solid var(--primary); padding: 10px 20px; border-radius: 50px; font-size: 13px; font-weight: 600; box-shadow: 0 10px 30px rgba(0,0,0,0.5); animation: slideDown 0.3s; display: flex; align-items: center; gap: 10px; }
        @keyframes slideDown { from { transform: translateY(-20px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }

    </style>
</head>
<body>

<canvas id="particles"></canvas>

<div id="ctx-menu">
    <div class="ctx-item" onclick="toggleTheme()"><i class="fas fa-adjust"></i> Mavzuni o'zgartirish</div>
    <div class="ctx-item" onclick="copyCurrentSong()"><i class="fas fa-copy"></i> Nomini nusxalash</div>
    <div class="ctx-item" onclick="location.reload()"><i class="fas fa-sync"></i> Yangilash</div>
</div>

<div id="toast-box"></div>

<div class="modal" id="settingsModal">
    <div class="modal-content">
        <h2 style="margin-top:0">Sozlamalar</h2>
        <div class="setting-row">
            <span>Tungi Rejim</span>
            <div class="toggle-switch on" id="themeSwitch" onclick="toggleTheme()"></div>
        </div>
        <div class="setting-row">
            <span>Tejamkor Rejim (No Anim)</span>
            <div class="toggle-switch" id="trafficSwitch" onclick="toggleTraffic()"></div>
        </div>
        <div class="setting-row">
            <span>Avto-Ijro (Kirganda)</span>
            <div class="toggle-switch" id="autoplaySwitch" onclick="toggleAutoPlay()"></div>
        </div>
        <div class="setting-row" style="justify-content: flex-start; gap: 10px; color: #ef4444; cursor: pointer;" onclick="clearAppCache()">
            <i class="fas fa-trash"></i> Keshni tozalash
        </div>
        <button onclick="closeSettings()" style="width:100%; padding:12px; border:none; background:var(--surface); color:var(--text); border-radius:12px; margin-top:10px;">Yopish</button>
    </div>
</div>

<header>
    <div class="logo">
        <i class="fas fa-wave-square"></i> NETLIVY <span style="font-size:10px; background:var(--primary); padding:2px 5px; border-radius:4px; color:black;">radio</span>
    </div>
    <div class="header-actions">
        <div class="battery-stat" id="batteryLevel"><i class="fas fa-battery-full"></i> 100%</div>
        <i class="fas fa-cog icon-btn" onclick="openSettings()"></i>
    </div>
</header>

<div class="greeting-area">
    <h1 class="greeting-title" id="greeting">Xayrli Kun</h1>
    <div class="live-stat">
        <div class="red-dot"></div> <span id="listenerCount">50</span> tinglovchi ‚Ä¢ <span id="clock">12:00</span>
    </div>
</div>

<div class="search-container">
    <input type="text" class="search-input" placeholder="Musiqa, janr yoki radio..." id="searchInput" onkeyup="filterRadios()">
    <button class="voice-btn" onclick="startVoice()"><i class="fas fa-microphone"></i></button>
</div>

<div class="cats">
    <div class="cat-chip active" onclick="filterCat('all', this)">Barchasi</div>
    <div class="cat-chip" onclick="filterCat('fav', this)">Sevimlilar ‚ù§Ô∏è</div>
    <div class="cat-chip" onclick="filterCat('pop', this)">Pop</div>
    <div class="cat-chip" onclick="filterCat('rock', this)">Rock</div>
    <div class="cat-chip" onclick="filterCat('jazz', this)">Jazz</div>
    <div class="cat-chip" onclick="filterCat('news', this)">Yangiliklar</div>
</div>

<div class="grid" id="radioGrid"></div>

<div class="player" id="mainPlayer">
    <div class="p-top" onclick="expandPlayer()">
        <img src="https://images.unsplash.com/photo-1470225620780-dba8ba36b745?w=100" class="p-img" id="p-img">
        <div class="p-info">
            <div class="p-title" id="p-title">Radiosiz</div>
            <div class="p-desc" id="p-desc">Tanlanmagan</div>
        </div>
        <div class="p-controls">
            <i class="fas fa-play-circle play-main" id="playBtn" onclick="event.stopPropagation(); togglePlay()"></i>
        </div>
    </div>
    
    <input type="range" class="vol-slider" min="0" max="1" step="0.1" value="1" oninput="setVolume(this.value)">
    
    <div class="extra-controls">
        <i class="fas fa-heart ctrl-btn" onclick="toggleLikeAnim(this)"></i>
        <i class="fas fa-share-alt ctrl-btn" onclick="shareApp()"></i>
        <i class="fas fa-record-vinyl ctrl-btn" onclick="simulateRecord()"></i>
        <i class="fas fa-expand ctrl-btn" onclick="toggleFullscreen()"></i>
    </div>
    
    <div style="text-align:center; margin-top:10px; display:none;" class="close-expanded" onclick="collapsePlayer()">
        <i class="fas fa-chevron-down" style="color:var(--text-muted)"></i>
    </div>
</div>

<audio id="audio" crossorigin="anonymous"></audio>

<script>
    // --- DATABASE ---
    const stations = [
    { id: 1, name: "Deep House", genre: "pop", url: "https://vintageradio.ice.infomaniak.ch/vintageradio-high.mp3", img: "https://images.unsplash.com/photo-1493225255756-d9584f8606e9?w=300" },
    { id: 2, name: "Retro Hits", genre: "rock", url: "https://radionetplus.ice.infomaniak.ch/radionetplus-high.mp3", img: "https://images.unsplash.com/photo-1614613535308-eb5fbd3d2c17?w=300" },
    { id: 3, name: "Chill Lofi", genre: "jazz", url: "https://stream.streambase.ch/r32goldies/aac-64", img: "https://images.unsplash.com/photo-1516280440614-37939bbacd81?w=300" },
    { id: 4, name: "Pop Energy", genre: "pop", url: "https://radioclubbing.stream.laut.fm/radioclubbing", img: "https://images.unsplash.com/photo-1614613535308-eb5fbd3d2c17?w=300" },
    { id: 5, name: "Energy Mix", genre: "rock", url: "https://stream.radiotools.fr:8443/h2o-lac-hd.mp3", img: "https://images.unsplash.com/photo-1511671782779-c97d3d27a1d4?w=300" },
    { id: 6, name: "Energy Mix", genre: "jazz", url: "https://radio3.pro-fhi.net/radio/9025/stream.mp3", img: "https://images.unsplash.com/photo-1614613535308-eb5fbd3d2c17?w=300" },
    { id: 7, name: "Pop Energy", genre: "pop", url: "https://stream10.xdevel.com/audio15s976748-2112/stream/icecast.audio", img: "https://images.unsplash.com/photo-1415201364774-f6f0bb35f28f?w=300" },
    { id: 8, name: "Energy Mix", genre: "jazz", url: "https://exofmreunion.ice.infomaniak.ch/exofmreunion-64.aac", img: "https://images.unsplash.com/photo-1415201364774-f6f0bb35f28f?w=300" },
    { id: 9, name: "Energy Mix", genre: "jazz", url: "https://stream.rcs.revma.com/1x41712gy7uvv", img: "https://images.unsplash.com/photo-1415201364774-f6f0bb35f28f?w=300" },
    { id: 10, name: "Energy Mix", genre: "jazz", url: "https://c22.radioboss.fm:8847/stream", img: "https://images.unsplash.com/photo-1614613535308-eb5fbd3d2c17?w=300" },
    { id: 11, name: "Energy Mix", genre: "jazz", url: "https://jam-on.ice.infomaniak.ch/jam-on-128.mp3", img: "https://images.unsplash.com/photo-1614613535308-eb5fbd3d2c17?w=300" },
    { id: 12, name: "Energy Mix", genre: "rock", url: "https://breakradio.ice.infomaniak.ch/breakradio-192.mp3", img: "https://images.unsplash.com/photo-1493225255756-d9584f8606e9?w=300" },
    { id: 13, name: "Energy Mix", genre: "jazz", url: "https://radioclubbing.stream.laut.fm/radioclubbing", img: "https://images.unsplash.com/photo-1415201364774-f6f0bb35f28f?w=300" },
    { id: 14, name: "Energy Mix", genre: "jazz", url: "https://stream.radiojar.com/h6eddm4h9quvv", img: "https://images.unsplash.com/photo-1493225255756-d9584f8606e9?w=300" },
    { id: 15, name: "Pop Energy", genre: "pop", url: "https://vivafm.ice.infomaniak.ch/vivafm-96.mp3", img: "https://images.unsplash.com/photo-1614613535308-eb5fbd3d2c17?w=300" },
    { id: 16, name: "Pop Energy", genre: "pop", url: "https://ice04.fluidstream.net/rn1_2.aac", img: "https://images.unsplash.com/photo-1415201364774-f6f0bb35f28f?w=300" },
    { id: 17, name: "Energy Mix", genre: "jazz", url: "https://edge17.streamonkey.net/radioluzern-live/stream/mp3", img: "https://images.unsplash.com/photo-1415201364774-f6f0bb35f28f?w=300" },
    { id: 18, name: "Energy Mix", genre: "rock", url: "https://gdsfm.out.airtime.pro/gdsfm_a", img: "https://images.unsplash.com/photo-1614613535308-eb5fbd3d2c17?w=300" },
    { id: 19, name: "Energy Mix", genre: "jazz", url: "https://listen.radioking.com/radio/605899/stream/669205", img: "https://images.unsplash.com/photo-1415201364774-f6f0bb35f28f?w=300" },
    { id: 20, name: "Energy Mix", genre: "jazz", url: "https://play.radioking.io/radio-du-bord-de-l-eau/223426", img: "https://images.unsplash.com/photo-1415201364774-f6f0bb35f28f?w=300" },
    { id: 21, name: "Energy Mix", genre: "rock", url: "https://play.radioking.io/agauneradio", img: "https://images.unsplash.com/photo-1493225255756-d9584f8606e9?w=300" },
    { id: 22, name: "Energy Mix", genre: "jazz", url: "https://my105.stream37.radiohost.de/my105-djradio_mp3-192", img: "https://images.unsplash.com/photo-1415201364774-f6f0bb35f28f?w=300" },
    { id: 23, name: "Energy Mix", genre: "jazz", url: "https://thaalam.out.airtime.pro/thaalam_b", img: "https://images.unsplash.com/photo-1415201364774-f6f0bb35f28f?w=300" },
    { id: 24, name: "Energy Mix", genre: "rock", url: "https://ec6.yesstreaming.net:1800/stream", img: "https://images.unsplash.com/photo-1493225255756-d9584f8606e9?w=300" },
    { id: 25, name: "Energy Mix", genre: "jazz", url: "https://nl.digitalrm.pt:8106/stream", img: "https://images.unsplash.com/photo-1415201364774-f6f0bb35f28f?w=300" },
    { id: 26, name: "Energy Mix", genre: "rock", url: "https://dreamsiteradiocp4.com/proxy/rmrsuisse2?mp=/stream", img: "https://images.unsplash.com/photo-1614613535308-eb5fbd3d2c17?w=300" },
    { id: 27, name: "Energy Mix", genre: "rock", url: "https://transatfm.ice.infomaniak.ch/transatfm-128.aac", img: "https://images.unsplash.com/photo-1493225255756-d9584f8606e9?w=300" },
    { id: 28, name: "Pop Energy", genre: "pop", url: "https://genevalatina.ice.infomaniak.ch/genevalatina-128.mp3", img: "https://images.unsplash.com/photo-1415201364774-f6f0bb35f28f?w=300" },
    { id: 29, name: "Energy Mix", genre: "jazz", url: "https://play.radioking.io/royale-radio/161119", img: "https://images.unsplash.com/photo-1614613535308-eb5fbd3d2c17?w=300" },
    { id: 30, name: "Energy Mix", genre: "jazz", url: "https://virageradio.ice.infomaniak.ch/virageradiopremiumweb-320.mp3", img: "https://images.unsplash.com/photo-1415201364774-f6f0bb35f28f?w=300" },
    { id: 31, name: "Energy Mix", genre: "jazz", url: "https://s10.streamingcloud.online:13552/radioluz320.mp3", img: "https://images.unsplash.com/photo-1415201364774-f6f0bb35f28f?w=300" },
    { id: 32, name: "Pop Energy", genre: "pop", url: "https://powerupradio.ice.infomaniak.ch/powerupradio-192.mp3", img: "https://images.unsplash.com/photo-1614613535308-eb5fbd3d2c17?w=300" },
    { id: 33, name: "Energy Mix", genre: "jazz", url: "https://stream.streambase.ch/radiopilatus/mp3", img: "https://images.unsplash.com/photo-1415201364774-f6f0bb35f28f?w=300" },
    { id: 34, name: "Energy Mix", genre: "rock", url: "https://neo1.ice.infomaniak.ch/neo1.mp3", img: "https://images.unsplash.com/photo-1614613535308-eb5fbd3d2c17?w=300" },
    { id: 35, name: "Energy Mix", genre: "jazz", url: "https://streaming.radiomunot.ch/munot/mp3_128", img: "https://images.unsplash.com/photo-1415201364774-f6f0bb35f28f?w=300" },
    { id: 36, name: "Energy Mix", genre: "rock", url: "https://stream.radiogrischa.ch/radiogrischa/aac_96", img: "https://images.unsplash.com/photo-1415201364774-f6f0bb35f28f?w=300" },
    { id: 37, name: "Energy Mix", genre: "jazz", url: "https://stream.streambase.ch/reviva/aac-64", img: "https://images.unsplash.com/photo-1614613535308-eb5fbd3d2c17?w=300" },
    { id: 38, name: "Energy Mix", genre: "jazz", url: "https://orbital.ice.infomaniak.ch/orbital.mp3", img: "https://images.unsplash.com/photo-1415201364774-f6f0bb35f28f?w=300" },
    { id: 39, name: "Pop Energy", genre: "pop", url: "https://ch-be06-ice.dmd2streaming.com/radiogloria_lo", img: "https://images.unsplash.com/photo-1415201364774-f6f0bb35f28f?w=300" },
    { id: 40, name: "Energy Mix", genre: "jazz", url: "https://rn3.fluidstream.eu/rto.mp3", img: "https://images.unsplash.com/photo-1415201364774-f6f0bb35f28f?w=300" },
    { id: 41, name: "Energy Mix", genre: "jazz", url: "https://energystgallen.ice.infomaniak.ch/energystgallen-high.mp3", img: "https://images.unsplash.com/photo-1415201364774-f6f0bb35f28f?w=300" },
    { id: 42, name: "Energy Mix", genre: "jazz", url: "https://stunnel1.cyber-streaming.com:9162/stream", img: "https://images.unsplash.com/photo-1493225255756-d9584f8606e9?w=300" },
    { id: 43, name: "Energy Mix", genre: "rock", url: "https://start-adofm.ice.infomaniak.ch/start-adofm-high.aac", img: "https://images.unsplash.com/photo-1415201364774-f6f0bb35f28f?w=300" },
    { id: 44, name: "Energy Mix", genre: "jazz", url: "https://stream.rcs.revma.com/pr5cwsxhr18uv", img: "https://images.unsplash.com/photo-1415201364774-f6f0bb35f28f?w=300" },
    { id: 45, name: "Energy Mix", genre: "jazz", url: "https://chantefrance.ice.infomaniak.ch/chantefrance-96.aac", img: "https://images.unsplash.com/photo-1493225255756-d9584f8606e9?w=300" },
    { id: 46, name: "Energy Mix", genre: "rock", url: "http://croonerradio.ice.infomaniak.ch/croonerradio-midfi.mp3", img: "https://images.unsplash.com/photo-1415201364774-f6f0bb35f28f?w=300" },
    { id: 47, name: "Energy Mix", genre: "jazz", url: "https://stream.rcs.revma.com/wknqhm4yuchvv", img: "https://images.unsplash.com/photo-1415201364774-f6f0bb35f28f?w=300" },
    { id: 48, name: "Energy Mix", genre: "jazz", url: "https://icecast.radiofrance.fr/franceinter-hifi.aac", img: "https://images.unsplash.com/photo-1415201364774-f6f0bb35f28f?w=300" },      
    { id: 49, name: "Pop Energy"  , genre: "pop", url: "https://icecast.radiofrance.fr/franceinfo-hifi.aac", img: "https://images.unsplash.com/photo-1493225255756-d9584f8606e9?w=300" },
    { id: 50, name: "Energy Mix", genre: "jazz", url: "https://direct.radiofrance.fr/live/fbpaysdesavoie-midfi.mp3", img: "https://images.unsplash.com/photo-1415201364774-f6f0bb35f28f?w=300" },
    { id: 51, name: "Energy Mix", genre: "jazz", url: "https://icecast.radiofrance.fr/franceculture-hifi.aac", img: "https://images.unsplash.com/photo-1415201364774-f6f0bb35f28f?w=300" },
    { id: 52, name: "Energy Mix", genre: "rock", url: "https://icecast.radiofrance.fr/francemusique-hifi.aac", img: "https://images.unsplash.com/photo-1493225255756-d9584f8606e9?w=300" },
    { id: 53, name: "Energy Mix", genre: "rock", url: "https://icecast.radiofrance.fr/fip-hifi.aac", img: "https://images.unsplash.com/photo-1415201364774-f6f0bb35f28f?w=300" },
    { id: 54, name: "Energy Mix", genre: "jazz", url: "https://icecast.radiofrance.fr/mouv-hifi.aac", img: "https://images.unsplash.com/photo-1415201364774-f6f0bb35f28f?w=300" },
    { id: 55, name: "Pop Energy", genre: "pop", url: "http://streaming.radio.funradio.fr/fun-1-44-128", img: "https://images.unsplash.com/photo-1493225255756-d9584f8606e9?w=300" },
    { id: 56, name: "Energy Mix", genre: "jazz", url: "https://generationfm.ice.infomaniak.ch/generationfm-high.mp3", img: "https://images.unsplash.com/photo-1415201364774-f6f0bb35f28f?w=300" },
    { id: 57, name: "Pop Energy", genre: "pop", url: "https://jazzradio.ice.infomaniak.ch/jazzradio-suisse.aac", img: "https://images.unsplash.com/photo-1415201364774-f6f0bb35f28f?w=300" },
    { id: 58, name: "Energy Mix", genre: "jazz", url: "https://mixxfm2.ice.infomaniak.ch/mixxfmnet.mp3", img: "https://images.unsplash.com/photo-1415201364774-f6f0bb35f28f?w=300" },
    { id: 59, name: "Energy Mix", genre: "rock", url: "https://stunnel2.cyber-streaming.com:9028/stream", img: "https://images.unsplash.com/photo-1493225255756-d9584f8606e9?w=300" },
    { id: 60, name: "Energy Mix", genre: "jazz", url: "https://n41a-eu.rcs.revma.com/q90fb3dwnwzuv", img: "https://images.unsplash.com/photo-1415201364774-f6f0bb35f28f?w=300" },
    { id: 61, name: "Energy Mix", genre: "rock", url: "https://manager5.streamradio.fr:1435/stream", img: "https://images.unsplash.com/photo-1493225255756-d9584f8606e9?w=300" },
    { id: 62, name: "Energy Mix", genre: "jazz", url: "https://stream.rcs.revma.com/2ykc70sauwzuv", img: "https://images.unsplash.com/photo-1415201364774-f6f0bb35f28f?w=300" },
    { id: 63, name: "Pop Energy", genre: "pop", url: "https://francemaghreb2.ice.infomaniak.ch/francemaghreb2-high.aac", img: "https://images.unsplash.com/photo-1415201364774-f6f0bb35f28f?w=300" },
    { id: 64, name: "Energy Mix", genre: "jazz", url: "https://beurfm.ice.infomaniak.ch/beurfm-high.aac", img: "https://images.unsplash.com/photo-1415201364774-f6f0bb35f28f?w=300" },
    { id: 65, name: "Pop Energy", genre: "pop", url: "https://yellowradio.ice.infomaniak.ch/yellowradio.mp3", img: "https://images.unsplash.com/photo-1493225255756-d9584f8606e9?w=300" },
    { id: 66, name: "Energy Mix", genre: "jazz", url: "https://k6fm.ice.infomaniak.ch/k6fm-128.mp3", img: "https://images.unsplash.com/photo-1415201364774-f6f0bb35f28f?w=300" },
    { id: 67, name: "Energy Mix", genre: "rock", url: "https://radiobonheur.ice.infomaniak.ch/radiobonheur-128-1.mp3", img: "https://images.unsplash.com/photo-1415201364774-f6f0bb35f28f?w=300" },
    { id: 68, name: "Energy Mix", genre: "jazz", url: "https://radiocaroline.ice.infomaniak.ch/radiocaroline-128.mp3", img: "https://images.unsplash.com/photo-1493225255756-d9584f8606e9?w=300" },
    { id: 69, name: "Energy Mix", genre: "rock", url: "https://niceradio.ice.infomaniak.ch/niceradio.aac", img: "https://images.unsplash.com/photo-1415201364774-f6f0bb35f28f?w=300" },
    { id: 70, name: "Energy Mix", genre: "jazz", url: "https://stream.rcs.revma.com/ew93f4vhy7uvv?aw_0_1st.rpfr=1", img: "https://images.unsplash.com/photo-1415201364774-f6f0bb35f28f?w=300" },
    { id: 71, name: "Energy Mix", genre: "jazz", url: "https://listen.radioking.com/radio/74173/stream/112150", img: "https://images.unsplash.com/photo-1493225255756-d9584f8606e9?w=300" },
    { id: 72, name: "Pop Energy", genre: "pop", url: "https://live-radio-kto.akamaized.net/hls/live/2103303-b/KTO/04.m3u8", img: "https://images.unsplash.com/photo-1415201364774-f6f0bb35f28f?w=300" },
    { id: 73, name: "Energy Mix", genre: "jazz", url: "https://laradioplus.ice.infomaniak.ch/laradioplus-high.aac", img: "https://images.unsplash.com/photo-1493225255756-d9584f8606e9?w=300" },
    { id: 74, name: "Energy Mix", genre: "jazz", url: "https://start-latina.ice.infomaniak.ch/start-latina-high.aac", img: "https://images.unsplash.com/photo-1415201364774-f6f0bb35f28f?w=300" },
    { id: 75, name: "Energy Mix", genre: "jazz", url: "http://radio74.ice.infomaniak.ch/radio74-high.mp3", img: "https://images.unsplash.com/photo-1415201364774-f6f0bb35f28f?w=300" },
    { id: 76, name: "Energy Mix", genre: "jazz", url: "https://mfm.ice.infomaniak.ch/mfm-128.mp3", img: "https://images.unsplash.com/photo1493225255756-d9584f8606e9?w=300" },
    { id: 77, name: "Energy Mix", genre: "rock", url: "https://stream.rcs.revma.com/bsa1cyuup42vv", img: "https://images.unsplash.com/photo-1415201364774-f6f0bb35f28f?w=300" },
    { id: 78, name: "Energy Mix", genre: "jazz", url: "https://novazz.ice.infomaniak.ch/novazz-128.mp3", img: "https://images.unsplash.com/photo-1493225255756-d9584f8606e9?w=300" },
    { id: 79, name: "Energy Mix", genre: "jazz", url: "https://ods.ice.infomaniak.ch/ods-high.aac", img: "https://images.unsplash.com/photo-1493225255756-d9584f8606e9?w=300" },
    { id: 80, name: "Energy Mix", genre: "jazz", url: "https://stream.rcs.revma.com/7hnrkawf4p8uv.mp3", img: "https://images.unsplash.com/photo-1415201364774-f6f0bb35f28f?w=300" },
    { id: 81, name: "Pop Energy", genre: "pop", url: "https://ouifm.ice.infomaniak.ch/ouifm-high.aac", img: "https://images.unsplash.com/photo-1493225255756-d9584f8606e9?w=300" },
    { id: 82, name: "Energy Mix", genre: "jazz", url: "https://str0.creacast.com/pharefm", img: "https://images.unsplash.com/photo-1415201364774-f6f0bb35f28f?w=300" },
    { id: 83, name: "Energy Mix", genre: "jazz", url: "https://playlist.ice.infomaniak.ch/playlist-192.mp3", img: "https://images.unsplash.com/photo-1415201364774-f6f0bb35f28f?w=300" },
    { id: 84, name: "Pop Energy", genre: "pop", url: "https://stream-1.pleinair.net:8443/dr_pontarlier.mp3", img: "https://images.unsplash.com/photo-1415201364774-f6f0bb35f28f?w=300" },
    { id: 85, name: "Energy Mix", genre: "rock", url: "https://radiomontblanc1.ice.infomaniak.ch/radiomontblanc1-128.mp3", img: "https://images.unsplash.com/photo-1415201364774-f6f0bb35f28f?w=300" },
    { id: 86, name: "Energy Mix", genre: "jazz", url: "https://webradio.tvradio-pitchoun.fr:8443/radiopitchoun.aac", img: "https://images.unsplash.com/photo-1415201364774-f6f0bb35f28f?w=300" },
    { id: 87, name: "Energy Mix", genre: "jazz", url: "https://rcf.streamakaci.com/rcfdigital.aac", img: "https://images.unsplash.com/photo-1415201364774-f6f0bb35f28f?w=300" },
    { id: 88, name: "Pop Energy", genre: "pop", url: "https://streaming.nrjaudio.fm/ou8o8xgk7oiu", img: "https://images.unsplash.com/photo-1493225255756-d9584f8606e9?w=300" },
    { id: 89, name: "Energy Mix", genre: "jazz", url: "https://audio.bfmtv.com/rmcradio_128.mp3", img: "https://images.unsplash.com/photo-1415201364774-f6f0bb35f28f?w=300" },
    { id: 90, name: "Energy Mix", genre: "jazz", url: "http://streaming.radio.rtl2.fr/rtl2-1-44-128", img: "https://images.unsplash.com/photo-1415201364774-f6f0bb35f28f?w=300" },
    { id: 91, name: "Energy Mix", genre: "jazz", url: "https://radioscoopalpes.ice.infomaniak.ch/radioscoop-alpes-64.aac", img: "https://images.unsplash.com/photo-1415201364774-f6f0bb35f28f?w=300" },
    { id: 92, name: "Energy Mix", genre: "rock", url: "https://icecast.skyrock.net/s/natio_aac_128k", img: "https://images.unsplash.com/photo-1415201364774-f6f0bb35f28f?w=300" },
    { id: 93, name: "Energy Mix", genre: "jazz", url: "https://icecast.skyrock.net/s/klassiks_aac_128k", img: "https://images.unsplash.com/photo-1415201364774-f6f0bb35f28f?w=300" },
    { id: 94, name: "Pop Energy", genre: "pop", url: "https://live.sudradio.fr/sudradio", img: "https://images.unsplash.com/photo-1493225255756-d9584f8606e9?w=300" },
    { id: 95, name: "Energy Mix", genre: "jazz", url: "https://tsfjazz.ice.infomaniak.ch/tsfjazz-high.mp3", img: "https://images.unsplash.com/photo-1415201364774-f6f0bb35f28f?w=300" },
    { id: 96, name: "Energy Mix", genre: "jazz", url: "https://virginradio.ice.infomaniak.ch/virgin-radio.aac", img: "https://images.unsplash.com/photo-1415201364774-f6f0bb35f28f?w=300" },
    { id: 97, name: "Pop Energy", genre: "pop", url: "https://play.radioking.io/cinemusicradio/62785", img: "https://images.unsplash.com/photo-1415201364774-f6f0bb35f28f?w=300" },
    { id: 98, name: "Energy Mix", genre: "jazz", url: "https://listen.radioking.com/radio/8916/stream/64357", img: "https://images.unsplash.com/photo-1493225255756-d9584f8606e9?w=300" },
    { id: 99, name: "Energy Mix", genre: "jazz", url: "https://kissfm.ice.infomaniak.ch/kissfm-128.mp3", img: "https://images.unsplash.com/photo-1415201364774-f6f0bb35f28f?w=300" },
    { id: 100, name: "Pop Energy", genre: "pop", url: "https://guadeloupe.ice.infomaniak.ch/guadeloupe-128.mp3", img: "https://images.unsplash.com/photo-1415201364774-f6f0bb35f28f?w=300" },
    { id: 101, name: "Energy Mix", genre: "rock", url: "https://martinique.ice.infomaniak.ch/martinique-128.mp3", img: "https://images.unsplash.com/photo-1493225255756-d9584f8606e9?w=300" },
    { id: 102, name: "Energy Mix", genre: "jazz", url: "https://diversitefm2.ice.infomaniak.ch/diversitefm2-192.mp3", img: "https://images.unsplash.com/photo-1415201364774-f6f0bb35f28f?w=300" },
    { id: 103, name: "Pop Energy" , genre: "pop", url: "https://podcast.attitudefm.com:8443/;", img: "https://images.unsplash.com/photo-1493225255756-d9584f8606e9?w=300" },
    { id: 104, name: "Energy Mix", genre: "jazz", url: "https://pianosolo.streamguys1.com/live", img: "https://images.unsplash.com/photo-1493225255756-d9584f8606e9?w=300" },
    { id: 105, name: "Pop Energy", genre: "pop", url: "https://listen.radioking.com/radio/141961/stream/182095", img: "https://images.unsplash.com/photo-1415201364774-f6f0bb35f28f?w=300" },
    { id: 106, name: "Pop Energy", genre: "pop", url: "https://radiofreiburg.ice.infomaniak.ch/radiofreiburg-high.mp3", img: "https://images.unsplash.com/photo-1493225255756-d9584f8606e9?w=300" }

    
    ];

    // --- STATE MANAGEMENT ---
    let state = {
        playing: false,
        currentId: null,
        favorites: JSON.parse(localStorage.getItem('favs')) || [],
        theme: localStorage.getItem('theme') || 'dark',
        trafficMode: false
    };

    const audio = document.getElementById('audio');
    const player = document.getElementById('mainPlayer');
    
    // --- INITIALIZATION ---
    window.onload = () => {
        renderRadios();
        updateClock();
        setGreeting();
        initParticles();
        checkBattery();
        
        // Theme init
        if(state.theme === 'light') {
            document.body.setAttribute('data-theme', 'light');
            document.getElementById('themeSwitch').classList.remove('on');
        }
    };

    // --- CORE AUDIO FUNCTIONS ---
    function playRadio(id) {
        vibrate();
        const station = stations.find(s => s.id === id);
        state.currentId = id;
        
        document.getElementById('p-title').innerText = station.name;
        document.getElementById('p-desc').innerText = "Jonli Efir ‚Ä¢ " + station.genre.toUpperCase();
        document.getElementById('p-img').src = station.img;
        
        audio.src = station.url;
        audio.play().then(() => {
            state.playing = true;
            updatePlayBtn();
            showToast(`üéµ ${station.name} ijro etilmoqda`);
            document.title = `‚ñ∂ ${station.name} | Netlivy`;
            addToHistory(station.name);
        }).catch(e => showToast("Xatolik: Stream ochilmadi"));
    }

    function togglePlay() {
        if(!audio.src) return;
        if(audio.paused) {
            audio.play();
            state.playing = true;
        } else {
            audio.pause();
            state.playing = false;
        }
        updatePlayBtn();
    }

    function updatePlayBtn() {
        const btn = document.getElementById('playBtn');
        btn.className = state.playing ? "fas fa-pause-circle play-main" : "fas fa-play-circle play-main";
        // Title Scroller
        if(state.playing) startTitleScroll();
    }

    function setVolume(val) {
        audio.volume = val;
    }

    // --- UI INTERACTIONS ---
    function renderRadios(filter = 'all') {
        const grid = document.getElementById('radioGrid');
        grid.innerHTML = '';
        
        let list = stations;
        if(filter === 'fav') list = stations.filter(s => state.favorites.includes(s.id));
        else if(filter !== 'all') list = stations.filter(s => s.genre === filter);

        list.forEach(s => {
            const isFav = state.favorites.includes(s.id);
            const card = document.createElement('div');
            card.className = 'card';
            // 3D Tilt Effect
            card.onmousemove = (e) => {
                if(state.trafficMode) return;
                const rect = card.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const y = e.clientY - rect.top;
                card.style.transform = `perspective(500px) rotateX(${(y - rect.height/2)/10}deg) rotateY(${-(x - rect.width/2)/10}deg)`;
            };
            card.onmouseleave = () => card.style.transform = 'none';
            
            card.innerHTML = `
                <div class="card-menu" onclick="event.stopPropagation(); toggleFav(${s.id})">
                    <i class="fas ${isFav ? 'fa-heart' : 'fa-heart-broken'}" style="color:${isFav ? '#ef4444' : '#fff'}"></i>
                </div>
                <img src="${s.img}">
                <h3>${s.name}</h3>
                <p>${s.genre}</p>
            `;
            card.onclick = () => playRadio(s.id);
            grid.appendChild(card);
        });
    }

    function expandPlayer() {
        player.classList.add('expanded');
        document.querySelector('.close-expanded').style.display = 'block';
    }
    
    function collapsePlayer() {
        player.classList.remove('expanded');
        document.querySelector('.close-expanded').style.display = 'none';
    }

    // --- FEATURES (THE 30 LIST) ---
    
    // 1. Dark/Light Mode
    function toggleTheme() {
        if(state.theme === 'dark') {
            document.body.setAttribute('data-theme', 'light');
            state.theme = 'light';
            document.getElementById('themeSwitch').classList.remove('on');
        } else {
            document.body.removeAttribute('data-theme');
            state.theme = 'dark';
            document.getElementById('themeSwitch').classList.add('on');
        }
        localStorage.setItem('theme', state.theme);
    }

    // 2. Favorites System
    function toggleFav(id) {
        if(state.favorites.includes(id)) {
            state.favorites = state.favorites.filter(x => x !== id);
            showToast("Sevimlilardan olib tashlandi");
        } else {
            state.favorites.push(id);
            showToast("Sevimlilarga qo'shildi");
        }
        localStorage.setItem('favs', JSON.stringify(state.favorites));
        renderRadios();
    }

    // 3. Greeting & Clock
    function updateClock() {
        const now = new Date();
        document.getElementById('clock').innerText = now.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
        // Random listener count simulation
        if(Math.random() > 0.7) {
            let count = parseInt(document.getElementById('listenerCount').innerText.replace(',',''));
            count += Math.floor(Math.random() * 10) - 5;
            document.getElementById('listenerCount').innerText = count.toLocaleString();
        }
        setTimeout(updateClock, 1000);
    }

    function setGreeting() {
        const h = new Date().getHours();
        const el = document.getElementById('greeting');
        if(h < 11) el.innerText = "Xayrli Tong ‚òÄÔ∏è";
        else if(h < 18) el.innerText = "Xayrli Kun üå§";
        else el.innerText = "Xayrli Tun üåô";
    }

    // 4. Voice Search
    function startVoice() {
        const SR = window.SpeechRecognition || window.webkitSpeechRecognition;
        if(SR) {
            const rec = new SR();
            rec.lang = 'uz-UZ';
            rec.start();
            document.querySelector('.voice-btn').style.background = 'red';
            rec.onresult = (e) => {
                document.getElementById('searchInput').value = e.results[0][0].transcript;
                filterRadios();
                document.querySelector('.voice-btn').style.background = 'var(--surface)';
            }
        } else {
            alert("Brauzeringiz ovozli qidiruvni qo'llab-quvvatlamaydi");
        }
    }

    // 5. Battery Status
    function checkBattery() {
        if('getBattery' in navigator) {
            navigator.getBattery().then(batt => {
                document.getElementById('batteryLevel').innerHTML = `<i class="fas fa-battery-half"></i> ${Math.round(batt.level * 100)}%`;
            });
        }
    }

    // 6. Particles (Traffic Saver logic included)
    function initParticles() {
        const canvas = document.getElementById('particles');
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        
        const parts = [];
        for(let i=0; i<50; i++) parts.push({x:Math.random()*canvas.width, y:Math.random()*canvas.height, s:Math.random()*2});

        function animate() {
            if(state.trafficMode) return; // Tejamkor rejim
            ctx.clearRect(0,0,canvas.width,canvas.height);
            ctx.fillStyle = state.theme === 'dark' ? 'rgba(255,255,255,0.1)' : 'rgba(0,0,0,0.1)';
            parts.forEach(p => {
                p.y -= p.s;
                if(p.y < 0) p.y = canvas.height;
                ctx.beginPath();
                ctx.arc(p.x, p.y, p.s, 0, Math.PI*2);
                ctx.fill();
            });
            requestAnimationFrame(animate);
        }
        animate();
    }

    // 7. Toast Notifications
    function showToast(msg) {
        const box = document.getElementById('toast-box');
        const t = document.createElement('div');
        t.className = 'toast';
        t.innerHTML = `<i class="fas fa-info-circle"></i> ${msg}`;
        box.appendChild(t);
        setTimeout(() => t.remove(), 3000);
    }

    // 8. Like Animation
    function toggleLikeAnim(btn) {
        btn.classList.toggle('fas');
        btn.classList.toggle('far');
        btn.style.color = '#ef4444';
        
        // Create floating hearts
        for(let i=0; i<5; i++) {
            const h = document.createElement('i');
            h.className = 'fas fa-heart floating-heart';
            h.style.left = Math.random() * window.innerWidth + 'px';
            h.style.top = (window.innerHeight - 100) + 'px';
            document.body.appendChild(h);
            setTimeout(()=>h.remove(), 1000);
        }
    }

    // 9. Keyboard Shortcuts
    document.addEventListener('keydown', (e) => {
        if(e.code === 'Space') togglePlay();
        if(e.code === 'KeyM') audio.muted = !audio.muted;
    });

    // 10. Context Menu
    document.oncontextmenu = (e) => {
        e.preventDefault();
        const menu = document.getElementById('ctx-menu');
        menu.style.display = 'block';
        menu.style.left = e.pageX + 'px';
        menu.style.top = e.pageY + 'px';
    };
    document.onclick = () => document.getElementById('ctx-menu').style.display = 'none';

    // 11. Settings & Utilities
    function openSettings() { document.getElementById('settingsModal').classList.add('active'); }
    function closeSettings() { document.getElementById('settingsModal').classList.remove('active'); }
    function toggleTraffic() { state.trafficMode = !state.trafficMode; document.getElementById('trafficSwitch').classList.toggle('on'); }
    function toggleAutoPlay() { showToast("Keyingi safar avto-ijro bo'ladi"); document.getElementById('autoplaySwitch').classList.toggle('on'); }
    function clearAppCache() { localStorage.clear(); location.reload(); }
    
    function shareApp() {
        if(navigator.share) {
            navigator.share({title: 'Netlivy', text: 'Eng zo\'r radio ilova!', url: window.location.href});
        } else {
            navigator.clipboard.writeText(window.location.href);
            showToast("Havola nusxalandi");
        }
    }

    function toggleFullscreen() {
        if (!document.fullscreenElement) document.documentElement.requestFullscreen();
        else if (document.exitFullscreen) document.exitFullscreen();
    }

    function simulateRecord() {
        showToast("Yozish boshlandi");
        setTimeout(() => showToast("Yozish saqlandi: MyRec_001.mp3"), 3000);
    }

    function filterRadios() {
        const val = document.getElementById('searchInput').value.toLowerCase();
        const cards = document.querySelectorAll('.card');
        cards.forEach(c => {
            const txt = c.innerText.toLowerCase();
            c.style.display = txt.includes(val) ? "block" : "none";
        });
    }

    function filterCat(type, btn) {
        document.querySelectorAll('.cat-chip').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        renderRadios(type);
    }
    
    function vibrate() {
        if(navigator.vibrate) navigator.vibrate(20);
    }
    
    // History (Session only for demo)
    function addToHistory(name) {
        // Logic to store last played
    }
    
    function startTitleScroll() {
        // Simple title animation logic could go here
    }

</script>
</body>
</html>